<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OIKOS ‚Äî Canal n√£o autorizado</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <style>
    /* Esta p√°gina precisa scroll */
    html, body { height:auto !important; overflow-y:auto !important; }
    body.net { min-height:100vh; overflow-y:auto !important; }

    .pageWrap{
      position: relative; z-index: 2;
      padding: 22px;
      max-width: 920px;
      margin: 0 auto;
    }

    .topBar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; flex-wrap:wrap;
      margin-bottom:14px;
    }

    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:14px;
      border:1px solid rgba(255,120,120,.28);
      background: rgba(0,0,0,.35);
      font-family: var(--mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
      color: rgba(255,190,190,.95);
    }

    .dot{
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,120,120,.95);
      box-shadow: 0 0 18px rgba(255,120,120,.55);
    }

    .card{
      border:1px solid rgba(120,255,214,.14);
      background: rgba(0,0,0,.22);
      border-radius:16px;
      padding: 18px 16px;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
    }

    .title{
      margin:0 0 10px;
      font-size: 14px;
      letter-spacing:.08em;
      text-transform: uppercase;
      color: rgba(255,160,160,.95);
      font-family: var(--mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
    }

    .msg{
      margin:0;
      white-space: pre-wrap;
      line-height: 1.55;
      font-size: 13px;
      color: rgba(232,237,246,.86);
      font-family: var(--mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
    }

    /* Gate */
    #lockCanal { width:100%; display:none; }
    #contentCanal { display:none; }

    /* Garante que o modal fica por cima de tudo */
    #codeModal {
      position: fixed;
      inset: 0;
      z-index: 9999;
    }
  </style>
</head>

<body class="net">
  <canvas id="netCanvas"></canvas>

  <div class="pageWrap" id="canalRoot">
    <div class="topBar">
      <div class="badge">
        <span class="dot" aria-hidden="true"></span>
        <span>CANAL N√ÉO AUTORIZADO</span>
      </div>

      <a class="btn" href="rede.html" style="text-decoration:none; display:inline-flex; align-items:center;">
        VOLTAR
      </a>
    </div>

    <!-- BLOQUEIO -->
    <button id="lockCanal" class="lockbox2" type="button">
      üîí ACESSO BLOQUEADO<br/>
      Requer C√≥digo 04.
    </button>

    <!-- CONTE√öDO -->
    <section class="card" id="contentCanal" role="article" aria-label="mensagem do canal n√£o autorizado">
      <h1 class="title">üìÑ COMUNICA√á√ÉO AN√ìNIMA ‚Äî CANAL N√ÉO AUTORIZADO</h1>

      <p class="msg">N√£o precisas de responder.
J√° sabemos que recebeste.

Portugal nunca deixou de existir para ti, Duda.
Tu √© que fingiste que sim.

O que constru√≠ste longe daqui cresceu demais para continuar invis√≠vel.
A OIKOS fez barulho suficiente para chamar aten√ß√µes que n√£o esquecem nomes ‚Äî nem fam√≠lias.

Se n√£o vieres, isto n√£o fica contido a estruturas.
Estruturas quebram. Pessoas aprendem da pior forma.

Selena n√£o sobreviveria a mais uma perda.
N√£o porque seja fraca ‚Äî mas porque j√° perdeu o suficiente para reconhecer quando algo n√£o volta.

Tu e Jota s√£o mais parecidos do que voc√™s gostariam de admitir.
O mesmo instinto.
A mesma tend√™ncia para avan√ßar quando deviam parar.
Um erro teu n√£o cairia s√≥ sobre ti.

Aisha continua a ser o ponto de equil√≠brio de demasiadas vidas ao mesmo tempo.
E equil√≠brios for√ßados partem sem aviso.

Lucas estuda cen√°rios.
Analisa riscos.
Sabe exatamente como reagir quando algo corre mal.
Mesmo assim, nem todo o conhecimento impede consequ√™ncias.

Caio e Isaque ainda acreditam que o mundo responde √† l√≥gica certa.
N√£o responde.

H√° la√ßos que n√£o se quebram facilmente.
C√≠cero e Orfeu s√£o desses.
E precisamente por isso seriam os √∫ltimos a ver o perigo chegar.

Manu Ferrari continua por perto porque confia em ti.
Confian√ßa, nestes contextos, costuma ser o primeiro erro.

Isa Callas n√£o devia estar t√£o exposta.
Amaya aparece em lugares errados com demasiada frequ√™ncia.

Faby e Kassandra reparam em detalhes que outros ignoram.
E detalhes acumulam-se.

GBR ainda acredita que te pode proteger.
Essa convic√ß√£o tem um custo quando √© testada.

Nada disto √© uma amea√ßa direta.
√â uma leitura simples de padr√µes antigos ‚Äî padr√µes que tu conheces melhor do que ningu√©m.

Quando a cabe√ßa n√£o aparece, a press√£o desce.
Sempre foi assim.

Vem sozinha.
Vem r√°pido.
E n√£o tragas o passado contigo ‚Äî ele nunca saiu daqui.

‚Äî

(transmiss√£o encerrada)</p>
    </section>
  </div>

  <!-- MODAL -->
  <div class="modalBack" id="codeModal" style="display:none;">
    <div class="modal">
      <div class="modalHead">
        <p class="modalTitle" id="modalTitle">Inserir c√≥digo</p>
        <button class="modalClose" id="modalClose" type="button">FECHAR</button>
      </div>

      <form id="modalForm" class="modalRow">
        <input id="modalCode" type="text" placeholder="padr√£o / data / associa√ß√£o" autocomplete="off" />
        <button class="btn" type="submit">VALIDAR</button>
      </form>

      <div class="modalMsg" id="modalMsg"></div>
    </div>
  </div>

  <!-- scripts -->
  <script src="assets/js/keys.js"></script>
  <script src="assets/js/net.js"></script>

  <script>
    // ===== Canal gate standalone (n√£o depende do app.js) =====
    (function(){
      const lock = document.getElementById("lockCanal");
      const content = document.getElementById("contentCanal");

      const modal = document.getElementById("codeModal");
      const modalTitle = document.getElementById("modalTitle");
      const modalMsg = document.getElementById("modalMsg");
      const modalClose = document.getElementById("modalClose");
      const modalForm = document.getElementById("modalForm");
      const modalCode = document.getElementById("modalCode");

      function norm(v){
        return (v || "").toString().trim().toLowerCase().replace(/\s+/g," ");
      }

      function lockUI(){
        if (lock) lock.style.display = "block";
        if (content) content.style.display = "none";
      }

      function unlockUI(){
        if (lock) lock.style.display = "none";
        if (content) content.style.display = "block";
      }

      function openModal(){
        if (!modal) return;
        if (modalTitle) modalTitle.textContent = "Requer C√≥digo 04 ‚Äî Canal n√£o autorizado";
        if (modalMsg) modalMsg.textContent = "";
        if (modalCode) modalCode.value = "";
        modal.style.display = "flex";
        setTimeout(()=> modalCode && modalCode.focus(), 30);
      }

      function closeModal(){
        if (!modal) return;
        modal.style.display = "none";
      }

      modalClose && modalClose.addEventListener("click", closeModal);
      modal && modal.addEventListener("click", (e)=> { if (e.target === modal) closeModal(); });

      function validateC04(input){
        const keys = window.OIKOS_KEYS;
        if (!keys) return { ok:false, msg:"√ó keys.js n√£o carregado" };

        const list = keys.CODE_04;
        if (!Array.isArray(list)) return { ok:false, msg:"√ó CODE_04 n√£o existe no keys.js" };

        const x = norm(input);
        const nlist = list.map(norm);
        const ok = nlist.includes(x);
        return { ok, msg: ok ? "‚úì padr√£o reconhecido" : "√ó padr√£o n√£o reconhecido" };
      }

      modalForm && modalForm.addEventListener("submit", (e)=>{
        e.preventDefault();
        const code = (modalCode && modalCode.value) ? modalCode.value : "";
        const res = validateC04(code);
        if (modalMsg) modalMsg.textContent = res.msg;

        if (res.ok){
          setTimeout(()=>{
            closeModal();
            unlockUI();
          }, 180);
        }
      });

      // abrir sempre ao entrar
      lockUI();
      openModal();

      // clicar no lock abre modal outra vez
      lock && lock.addEventListener("click", openModal);
    })();
  </script>
</body>
</html>
